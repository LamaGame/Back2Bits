<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webshop</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>
<header>
    <h1> Willkommen bei <span style="color: #327dc8;">Back2Bits</span></h1>
    <nav>
        <ul>
            <li><a href="#">Startseite</a></li>
            <li><a href="#">Ãœber uns</a></li>
            <li><a href="#">Kontakt</a></li>
        </ul>
    </nav>
    <div id="cart-icon">ðŸ›’<span id="cart-count">0</span></div>
</header>

<div id="sidebar" class="sidebar">
    <button class="close-btn" onclick="toggleSidebar()">Ã—</button>
    <a href="#category1">Nintendo</a>
    <a href="#category2">Atari</a>
    <a href="#category3">SEGA</a>
</div>
<button id="open-btn" onclick="toggleSidebar()">â˜°</button>
    
<main>
    
    <section id="products">
        <div id="product-container"></div>
    </section>
</main>
    
<footer>
    <p>&copy; 2024 Back2Bits &nbsp; Keine Rechte vorbehalten.</p>
</footer>

<script src="scripts/products.js"></script>
<script>
        function toggleSidebar() {
    const sidebar = document.getElementById("sidebar");
    const openBtn = document.getElementById("open-btn");

    if (sidebar.style.left === "-200px") {
        sidebar.style.left = "0"; // Open sidebar
        openBtn.style.display = "none"; // Hide open button
        document.getElementsByTagName("main").style.marginLeft = "200px"
    } else {
        sidebar.style.left = "-200px"; // Close sidebar
        openBtn.style.display = "block"; // Show open button
        document.getElementsByTagName("main").style.marginLeft = "0px"
    }
}
</script>
<script>
    const cartIcon = document.getElementById('cart-icon');
    const cartCount = document.getElementById('cart-count');
    const cart = JSON.parse(localStorage.getItem('cart')) || [];

    function updateCartCount() {
        cartCount.innerText = cart.length;
    }

    document.querySelectorAll('.product button').forEach(button => {
        button.addEventListener('click', () => {
            const product = button.parentElement;
            const productName = product.querySelector('.name').innerText;
            cart.push(productName);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
        });
    });

    cartIcon.addEventListener('click', () => {
        window.location.href = 'checkout.html';
    });

    updateCartCount();

    // Set product prices
    document.querySelector('.name #gameboy-classic').innerText = productData["gameboy-classic"]["name"];
    document.querySelector('.description #gameboy-classic').innerText = productData["gameboy-classic"]["description"];
    document.querySelector('.price #gameboy-classic').innerText = productData["gameboy-classic"]["price"];
    
    document.getElementById('price-product-2').innerText = productData["nes-classic"]["name"];
    document.getElementById('price-product-2').innerText = productData["nes-classic"]["description"];
    document.getElementById('price-product-2').innerText = productData["nes-classic"]["price"];
    
    document.getElementById('gamecube-lila').innerText = productData["gamecube-lila"]["price"];
    
    document.getElementById('price-product-3').innerText = productData["Produkt 3"]["price"];
    document.getElementById('price-product-4').innerText = productData["Produkt 4"]["price"];
    document.getElementById('price-product-5').innerText = productData["Produkt 5"]["price"];
    document.getElementById('price-product-6').innerText = productData["Produkt 6"]["price"];
    document.getElementById('price-product-7').innerText = productData["Produkt 7"]["price"];

    function toggleSidebar() {
        const sidebar = document.getElementById('sidebar');
        sidebar.classList.toggle('active');
    }
</script>
</body>
</html>
